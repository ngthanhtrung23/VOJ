\begin{itemize}
	\item     Dòng 1: gồm 1 số nguyên dương K (K ≤ $10^{9}$    ), các kết quả tìm được sẽ mod cho K,   
	\item     Dòng 2: bắt đầu là 3 số nguyên dương M, N, T (M, N ≤ 16, T ≤ M * N), trong đó M, N là kích thước hình chữ nhật trong công đoạn 1, T là số lượng ô trong hình chữ nhật đã đặt vật trang trí, tiếp theo là T cặp số, cặp số (i, j) là tọa độ ô đã đã đặt vật trang trí;   
	\item     Dòng 3: gồm 2 số nguyên dương R, L (R ≤ 8, L ≤ $10^{6}$    ) là kích thước hình của công đoạn 2.   
\end{itemize}