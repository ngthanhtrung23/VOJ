Trong lúc rảnh rỗi, Thắng dễ thương cùng đồng nghiệp trong công ty thực phẩm Con Heo Vàng chơi mèo nổ. Đỏ bạc đen tình, Thắng liên tục rút được lá Alter the future, giúp Thắng được sắp xếp các lá bài trên bài theo ý muốn.

Hiện tại, trên bàn còn N lá bài xếp thành chồng. Mỗi lá bài có một nhãn hiệu là số nguyên phân biệt từ 1 tới N. Để sắp xếp, tại mỗi bước, Thắng sẽ lấy ra một dãy con liên tiếp của chồng bài, đưa lại dãy này vào một vị trí khác. Thứ tự của các lá bài trong đoạn con được rút ra cũng như trong phần còn lại của bộ bài không được phép thay đổi. Ví dụ, nếu hiện tại chồng bài đang là "2 3 \textbf{5 1 4 7} 6", Thắng có thể xếp lại thành "2 \textbf{5 1 4 7 }3 6". Từ "\textbf{1 4 3} 6 7 2 5" sang "6 7 2 5 \textbf{1 4 3}" cũng là một phép sắp xếp hợp lệ.

Để gài bẫy cô bạn KTH của mình, Thắng sẽ sắp xếp chồng bài về thứ tự chuẩn, nghĩa là "1 2 3 ... N". Tuy nhiên, sợ ý đồ bị bại lộ, Thắng sẽ không thực hiện việc sắp xếp nếu như cần nhiều hơn 4 bước chuyển.

Hãy giúp Thắng đễ thương tìm ra số bước tối thiểu cần sắp xếp nhé.