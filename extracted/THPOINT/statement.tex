Cho N điểm trên trục Ox (1 $<$= N $<$= 10\textasciicircum5). Điểm thứ i có tọa độ xi. Không có 2 điểm nào có cùng vị trí. (|xi| $<$= 10\textasciicircum9).

Cần thực hiện Q truy vấn (1 $<$= Q $<$= 10\textasciicircum5). Mỗi truy vấn thuộc 1 trong 2 loại:

1. Di chuyển điểm pi từ vị trí x(pi) đến vị trí x(pi) + di

2. Tính tổng khoảng cách của các cặp điểm nằm giữa l và r: sum( |xi - xj| , l $<$= xi $<$= xj $<$= r).