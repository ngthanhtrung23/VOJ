Dòng đầu chứa hai số nguyên R và C, là kích thước của Châu Âu (1 ≤ R, C ≤ 25)  

   Tiếp theo là R dòng chứa sơ đồ mô tả hệ thống ống dẫn, mỗi dòng chứa đúng C kí tự. Các kí tự là:  
\begin{itemize}
	\item     Dấu chấm ('.'), mô tả một ô trống;   
	\item     Các kí tự '|' (ASCII 124), '-', '+', '1', '2', '3', '4', mô tả các loại ống dẫn;   
	\item     Các chữ cái 'M' và 'Z', thể hiện Moscow và Zagreb. Mỗi chữ chỉ xuất hiện đúng một lần trong sơ đồ.   
\end{itemize}

   Dòng chảy của dầu đảm bảo là duy nhất; chính xác một ống dẫn nằm kề với Moscow cũng như Zagreb. Thêm vào đó, sơ đồ không hề có ống dẫn nào thừa (tất cả các ống dẫn trong sơ đồ đều phải được sử dụng sau khi thêm vào ống dẫn bị mất).  

   Dữ liệu đảm bảo luôn tồn tại lời giải, và lời giải đó là duy nhất.