Như chúng ta đã biết, Nguyễn Xuân Khánh (pirate) không chỉ học rất giỏi mà còn hát rất hay. Cùng với tính tình người lớn, khả năng nói chuyện dễ thương cuốn hút cùng gương mặt lạnh lùng ít khi cười, tất cả đã tạo thành một idol Xuân Khánh trong trái tim các bạn nữ. Hiện nay Khánh đang độc thân và muốn tìm bạn gái. Vì Khánh quá quyến rũ nên các bạn nữ từ những vùng miền xa xôi nhất cũng tìm đến dự thi. Bạn nào trông cũng rất xinh đẹp mà Khánh lại chỉ có một trái tim nên phải lựa chọn thật kỹ. Cuối cùng, Khánh quyết định tổ chức một cuộc thi dệt vải.   
\\
\\   Mỗi bạn nữ đến thi tuyển làm bạn gái của Khánh được yêu cầu hãy dệt thảm để Khánh… lau chân mỗi khi đi về nhà. Tấm thảm có dạng hình vuông kích thước NxN (N $\le$ 1500). Các bạn nữ phải dùng K màu (K $\le$ 1500) để tô các ô của tấm thảm, mỗi ô một màu. Bạn nữ nào dệt được nhiều tấm thảm khác nhau nhất thì Khánh sẽ chọn. Tất nhiên, hai cách tô màu được coi là giống nhau nếu cách này thu được từ cách kia qua một phép quay.   
\\
\\   Các bạn nữ muốn biết mình có thể dệt được tối đa bao nhiêu tấm thảm cho Khánh, nhưng xem ra với những người đang xúc động vì được đứng trước tình yêu của mình thì việc này quá khó khăn. Bạn hãy giúp các bạn này tính xem số lượng tấm thảm khác nhau có thể tô được là bao nhiêu nhé!