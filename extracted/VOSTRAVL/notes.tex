\begin{itemize}
	\item N, M  $\le$  106.
	\item K  $\le$  N.
	\item 10\% số test M  $\le$  10.
	\item 20\% số test đồ thị không có chu trình.
\end{itemize}
\begin{verbatim}
\textbf{Input}
3 2 1 1
1 2
2 3
3

\textbf{Output}
TAK
5 1 2 3 2 1\end{verbatim}

 

\textbf{Giải thích:} ta không thể chọn lộ trình 1 -$>$ 2 -$>$ 1 -$>$ 2 -$>$ 3 -$>$ 2 -$>$ 1 vì đoạn đường 1-$>$ 2 đi qua 2 lần theo cùng một chiều từ 1 sang 2.