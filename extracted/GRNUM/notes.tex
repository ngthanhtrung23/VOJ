\begin{verbatim}
Input:
3 3
A 0 0
A 1 2
A 2 1
B 1 0
B 1 2
B 2 2
C 0 2
C 1 1
C 1 2

Output:
54

Giới hạn:
1 ≤ K ≤ 5
1 ≤ N ≤ 20
Số cách đánh số khác nhau luôn đảm bảo không quá 1000000

\end{verbatim}