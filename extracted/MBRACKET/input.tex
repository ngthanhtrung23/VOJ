Dòng đầu là dãy ngoặc ban đầu, độ dài  $\le$  100,000. Dòng tiếp theo là số nguyên N, 1 ≤ N ≤ 100,000, số thao tác.





N dòng tiếp theo, mỗi dòng gồm số nguyên A và kí tự C.


A = 0 thì C được chèn vào đầu xâu.


A = 1 thì C được chèn vào cuối xâu.