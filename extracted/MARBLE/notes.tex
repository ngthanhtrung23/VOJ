\begin{verbatim}
\textbf{Dữ liệu}


5 1 3


3 3


L 2 3 1


T 1 1 1


B 5 5 5





\textbf{Kết quả}


3


2


25\end{verbatim}
\begin{itemize}
	\item     Viên bi đầu tiên của lượt 1 sẽ đi qua 2 ô (3,1) và (3,2) trước ghi gặp vật cản ở ô (3,3)   
	\item     Viên bi tiếp theo của lượt 1 sẽ đi qua ô (3,1) trước khi gặp viên bi ở ô (3,2). Vậy tổng số ô bị đi qua ở lượt này là 3.   
	\item     Viên bi đầu tiên của lượt 2 sẽ đi qua 2 ô (1,1) và (2,1) trước khi gặp viên bi ở ô (3,1).   
	\item     Mỗi viên bi của lượt cuối cùng đều không gặp vật cản và sẽ đi ra ngoài bảng sau khi đi qua 5 ô.   
\end{itemize}
\begin{itemize}
	\item     N ≤ 50000, K ≤ 10, Q ≤ 100000   
	\item     Trong 1/3 số test, N và Q không vượt quá 1000.   
\end{itemize}